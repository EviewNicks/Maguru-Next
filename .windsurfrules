# Maguru Project Development Rules

## ğŸ“š Daftar Isi

0. Read Documentation File
1. Folder & File Structure
2. UI/UX Consistency
3. Test-Driven Development (TDD)
4. Commit Message Standards
5. Dependency Management
6. Linting & Formatting
7. CI/CD Integration
8. Code Modularity & Optimization
9. Documentation & Guidelines
10. Development Workflow

## 0. Read Documentation Before Coding

AI **harus membaca dokumentasi proyek** sebelum menulis atau mengedit kode.  
Dokumentasi ini berisi standar coding, alur sistem, serta aturan proyek.

### ğŸ“Œ File Dokumentasi yang Wajib Dibaca:

1ï¸âƒ£ **PRD (Project Requirements Document) â†’ `/documentation/PRD.md`**

- **Deskripsi**: Visi proyek, fitur utama, dan persyaratan sistem yang harus dipenuhi untuk keberhasilan proyek.
- **Mengapa Harus Dibaca?**: Pastikan fitur yang dikembangkan sesuai dengan rencana awal proyek agar konsistensi dan tujuan tercapai.

2ï¸âƒ£ **App Flow Document â†’ `/documentation/app-flow-documentation.md`**

- **Deskripsi**: Diagram alur aplikasi dan interaksi pengguna yang menggambarkan bagaimana pengguna akan berinteraksi dengan sistem.
- **Mengapa Harus Dibaca?**: Fitur yang dibuat harus mengikuti flow aplikasi yang telah disusun untuk meningkatkan pengalaman pengguna.

3ï¸âƒ£ **Tech Stack Document â†’ `/documentation/tech-stack-documentation.md`**

- **Deskripsi**: Menjelaskan framework, database, dan teknologi yang digunakan dalam proyek, serta alasan pemilihannya.
- **Mengapa Harus Dibaca?**: Jangan gunakan library atau teknologi yang tidak disebutkan dalam dokumen ini untuk menjaga konsistensi dan kompatibilitas.

4ï¸âƒ£ **Frontend Guidelines â†’ `/documentation/frontend-guidelines.md`**

- **Deskripsi**: Panduan tentang konvensi coding frontend (React, Tailwind, dsb.) serta praktik terbaik dalam pengembangan antarmuka pengguna.
- **Mengapa Harus Dibaca?**: Semua kode frontend harus sesuai dengan aturan desain dan struktur yang ada untuk memastikan kualitas dan keterbacaan kode.

5ï¸âƒ£ **Backend Structure Document â†’ `/documentation/backend-structure.md`**

- **Deskripsi**: Struktur database, arsitektur backend, dan API endpoints yang digunakan dalam proyek.
- **Mengapa Harus Dibaca?**: Jangan improvisasi dalam penulisan backend, pastikan API dan database sesuai aturan untuk menjaga integritas sistem.

6ï¸âƒ£ **File Structure Document â†’ `/documentation/file-structure.md`**

- **Deskripsi**: Organisasi folder dan file proyek yang menjelaskan lokasi dan tujuan setiap file dalam proyek.
- **Mengapa Harus Dibaca?**: File harus ditempatkan pada direktori yang benar agar proyek tetap terstruktur dengan baik dan memudahkan navigasi.

7ï¸âƒ£ **Roadmap Planning â†’ `/documentation/RoadmapPlanning.md`**

- **Deskripsi**: High-level roadmap ini adalah roadmap proyek dan sprint planning yang membantu kamu memahami:
  - Fitur apa yang sedang dikerjakan dan akan datang.
  - Prioritas fitur dan sprint yang sedang berjalan.
  - Bagaimana kamu dapat membantu dalam menyelesaikan proyek ini.
- **Mengapa Harus Dibaca?**: Dengan membaca roadmap planning, kamu dapat memahami tujuan proyek dan bagaimana kamu dapat berkontribusi. Juga, kamu dapat memahami bagaimana fitur yang sedang dikerjakan dan akan datang, sehingga kamu dapat berkoordinasi dengan baik dalam tim.

8ï¸âƒ£ **Implementation Plan â†’ `/documentation/ImplementationPlan.md`**

- **Deskripsi**: Instruksi detail tentang fitur yang sedang dikerjakan (Step-by-Step Execution Plan).
- **Mengapa Harus Dibaca?**: **AI hanya boleh mengerjakan kode berdasarkan Implementation Plan yang ada.**

## 1. Folder & File Structure

- Follow the structure defined in the **File Structure Document**.
- Place reusable components in `/features` or `/components`.
- Avoid complex configurations in `/app`. Keep this folder focused on routing and page-level logic.

## 2.UI/UX Consistency

- **Shadcn UI First:** Selalu prioritaskan komponen dari **Shadcn UI** sebelum membuat custom components.
- **Class Order & Spacing:** AI akan otomatis mengatur urutan class Tailwind untuk keterbacaan dan performa.
- **Dark/Light Mode Support:** Pastikan setiap komponen mendukung **Next Themes**.

Contoh struktur folder:

````
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/           # Komponen UI reusable
â”‚   â”œâ”€â”€ layouts/      # Layout utama bersifat global
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ components/ #Kompoennt Khusus yang digunakan untuk Dashboard
â”‚   â”‚   â”œâ”€â”€ hooks/      #hooks khusus Dashbaord
â”‚   â”‚   â”œâ”€â”€ services/   #service khusus Dashboard
â”‚   â”‚   â””â”€â”€ utils/      #utils khusus Dashboard
â”œâ”€â”€ hooks/            # Custom hooks bersifat Golbal
â”œâ”€â”€ utils/            # Fungsi utilitas global
â””â”€â”€ config/           # Konfigurasi global

'untuk structure file yang lebih jelas silahkan analisis file file-structure-documentation.md'

## 3. Test-Driven Development (TDD)
- Before writing implementation code, create a corresponding test file with the suffix `.test.ts`.
- Format penamaan test file sesuai dengan nama compoennt untuk unit test FE dan BE: **ComponentName.test.tsx** atau **ServiceName.test.ts**.
- Gunakan **mocking** untuk API dan data eksternal.
- Run unit tests automatically after each file change.
- Show warnings if test files are missing or failing.
- Unit Test: Menguji fungsi-fungsi utama (UI, API handler, validasi input).
- Integration Test: Menguji integrasi antar fitur (misal: login â†’ akses modul â†’ submit quiz).
- E2E Test: Menguji keseluruhan user flow (Cypress digunakan untuk simulasi interaksi pengguna).
- Unit Test: Jest.
- Integration Test: Supertest.
- E2E Test: Cypress.


## 4. Commit Message Standards
- Use **Conventional Commits** format for clear, consistent commit history:
  - `feat:` â†’ New features.
  - `fix:` â†’ Bug fixes.
  - `chore:` â†’ Maintenance tasks.
  - `docs:` â†’ Documentation updates.
  - `style:` â†’ Code style changes (no logic changes).
  - `refactor:` â†’ Code restructuring without changing behavior.
  - `test:` â†’ Adding or modifying tests.

- **Panjang maksimal:**
  - **Header:** 50 karakter.
  - **Body:** 72 karakter per baris.

- Block commits if:
  - Linting fails (run `npm run lint`).
  - Tests fail (run `npm test`).

# Format Commit Message

```php-template
<type>(<scope>/s<story>t<task>): <deskripsi singkat> (ISSUE_ID) v<versi>
```

## Contoh:

```java
feat(module/s2t1): implementasi halaman manajemen modul dengan CRUD (OPS-29) v1.0  
fix(auth/s2t3): perbaiki validasi middleware untuk akses admin (OPS-30) v1.1  
docs(api/s2t4): tambahkan dokumentasi CRUD modul akademik (OPS-29) v1.0
```

## Penjelasan Format:

- **`type`**: Jenis perubahan, contoh:
  - `feat` â†’ Fitur baru
  - `fix` â†’ Perbaikan bug
  - `docs` â†’ Perubahan dokumentasi
  - `refactor` â†’ Perbaikan kode tanpa mengubah fungsionalitas
  - `chore` â†’ Perubahan kecil atau perawatan proyek
  
- **`scope`**: Area yang terpengaruh, contoh:
  - `module` â†’ Modul tertentu
  - `auth` â†’ Sistem autentikasi
  - `api` â†’ Endpoint backend
  
- **`s<story>t<task>`**: Nomor story dan task sesuai JIRA/GitHub.
  - `s2t1` â†’ Story 2, Task 1
  - `s2t3` â†’ Story 2, Task 3
  
- **`ISSUE_ID`**: Mengaitkan commit dengan task spesifik di sistem manajemen proyek.
  - `(OPS-29)`, `(OPS-30)`, dll.
  
- **`versi`**: Menunjukkan versi perubahan.
  - `v1.0`, `v1.1`, dll.


## 5. Dependency Management
- All imported libraries must exist in `package.json`.
- Raise warnings for unlisted or incompatible libraries.
- Rekomendasikan **versi stabil (semver)** untuk menghindari konflik.
- Use **alias imports** (`@/`) to avoid complex relative paths.
- jika ada library yang pelru di tambahkan maka silahkan berikan alasan mengapa pelru menginstallnya dan saya akan memberikan persetujuan

## 6. Linting & Formatting
- Use **ESLint** and **Prettier** with the projectâ€™s predefined configurations.
- Automatically fix simple linting issues.
- Show warnings for any remaining lint errors or code style violations.
- **Aturan penting:**
  - Hindari penggunaan `any` di TypeScript.
  - Gunakan **arrow functions** jika memungkinkan.
  - **Organize imports** otomatis.
   - Aktifkan **strict mode** di `tsconfig.json`.
  - **Tipe eksplisit** untuk fungsi dan variabel.
  - Gunakan **eslint-plugin-import** untuk pengurutan import otomatis.

## 7. CI/CD Integration
- Use **GitHub Actions** for continuous integration.
- Automatically run tests and linting on pull requests.
- Block merges if tests or linting fail.
- Tahapan pipeline:
  1. **Install dependencies:** `npm ci`
  2. **Linting:** `npm run lint`
  3. **Testing:** `npm test`
  4. **Build:** `npm run build

## 8.Code Modularity & Optimization
- Split complex logic into smaller, focused modules.
- Suggest refactoring for duplicate or overly complex code.
- Prioritize performance optimizations (e.g., memoization, server-side rendering).
- Pisahkan kode kompleks ke **utils/** atau **hooks/**.
- Deteksi kode duplikat dan beri saran refactor.

## 9.Documentation & Guidelines

### 9.1 Documentation Overview

#### Referensi Utama:
- **PRD (Project Requirements Document):** [/documentation/PRD.md](documentation/PRD.md)
- **App Flow Document:** [/documentation/app-flow-documentation.md](documentation/app-flow-documentation.md)
- **Tech Stack Document:** [/documentation/tech-stack-documentation.md](documentation/tech-stack-documentation.md)
- **Frontend Guidelines:** [/documentation/frontend-guidelines.md](documentation/frontend-guidelines.md)
- **Backend Structure Document:** [/documentation/backend-structure.md](documentation/backend-structure.md)

#### Tujuan:
- Menjamin bahwa setiap fitur dan perubahan kode sejalan dengan visi dan persyaratan proyek.
- Memastikan konsistensi dan kompatibilitas antara bagian frontend dan backend.

### 9.2 Task-based Documentation

#### Dasar Penulisan:
- Sebelum menulis atau mengupdate dokumentasi untuk task-based modul, pastikan membaca file `module-docs.md` yang berisi fundamental penulisan dokumen.
- File ini menjadi acuan utama dalam menulis dokumentasi untuk setiap modul.

#### Update Dokumentasi Task-based:
- Setiap update pada dokumentasi modul harus disertai dengan tanda pembaruan dalam format `[update+YYYY-MM-DD]` (contoh: `[update+2025-03-08]`) pada modul docs yang di kerjakan contohnya @/documentation/task/module/t1-module-learning.md.
- Pastikan bahwa setiap langkah atau perubahan yang dilakukan pada task-based modul terdokumentasi dengan jelas dan konsisten.

#### Struktur Folder Dokumentasi Modul:
```
/documentation/
â””â”€â”€ task/
    â”œâ”€â”€ dashboard/
    â”‚   â””â”€â”€ t1-dashboard.md
    â””â”€â”€ module/
        â”œâ”€â”€ t1-module-learning.md
        â””â”€â”€ t2-manage-module.md
```

- Pastikan untuk menempatkan file dokumentasi yang relevan di dalam folder `module/` sesuai dengan konteks task yang sedang dikerjakan.

#### Tujuan:
- Memastikan semua task dan subtask terdokumentasi dengan baik untuk memudahkan review dan onboarding anggota tim baru.
- Menjaga konsistensi dalam dokumentasi dan meminimalisir risiko langkah pengembangan yang terlewat.
- Memberikan catatan perubahan yang transparan melalui tanda pembaruan `[update+YYYY-MM-DD]`.

### 9.3 Code Comments & Annotations

#### Komentar Kode:
- Sertakan komentar pada bagian kode yang kompleks dengan referensi ke dokumentasi terkait.

##### Contoh:
```typescript
// Fungsi ini menangani autentikasi pengguna dengan JWT tokens.
// Detail algoritma: lihat /documentation/PRD.md dan /documentation/app-flow-documentation.md
const authenticateUser = async () => { ... };
```

#### Tujuan:
- Memudahkan pemahaman kode oleh anggota tim lain.
- Memastikan bahwa logika kompleks memiliki penjelasan pendukung yang terperinci.

### 9.4 Documentation Automation & Review

#### Otomasi Dokumen:
- Integrasikan CI/CD (misalnya, melalui GitHub Actions) untuk memeriksa apakah setiap pull request disertai dengan pembaruan dokumentasi jika ada perubahan pada task.
- Notifikasi otomatis jika ada subtask yang belum terdokumentasi.

#### Review Dokumentasi:
- Pastikan dokumentasi di-review bersamaan dengan code review untuk menjaga akurasi dan relevansi informasi.

#### Tujuan:
- Mengurangi risiko langkah pengembangan yang tidak terdokumentasi.
- Memastikan transparansi dan kontinuitas informasi antar anggota tim.


## 10. Development Workflow
- Break down features into smaller, incremental tasks.
- Create meaningful pull requests with clear descriptions.
- Prioritize regular code reviews to maintain quality.
- Use feature flags or environment variables for experimental features.

Let me know if you want me to tweak or expand anything! ğŸš€
````
